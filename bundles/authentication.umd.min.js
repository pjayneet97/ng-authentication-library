!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/fire/auth"),require("firebase/app"),require("firebase"),require("@angular/fire"),require("@angular/common"),require("@angular/forms")):"function"==typeof define&&define.amd?define("authentication",["exports","@angular/core","@angular/fire/auth","firebase/app","firebase","@angular/fire","@angular/common","@angular/forms"],n):n((t=t||self).authentication={},t.ng.core,t.ng.fire.auth,t.app,t.firebase,t.ng.fire,t.ng.common,t.ng.forms)}(this,(function(t,n,i,o,e,r,a,l){"use strict";var s=function(){function t(t){var n=this;this.afAuth=t,this.authInfo=null,this.authType=null,this.windowRef=window,t.authState.subscribe((function(t){n.authInfo=t,"email"==n.authType?t&&(t.emailVerified?n.mode="successful":n.mode="emailverify"):"phone"==n.authType&&(n.mode="successful")}))}return t.prototype.isAuthenticated=function(){return!!this.authInfo},t.prototype.googleLogin=function(){return this.authType="email",this.afAuth.auth.signInWithPopup(new o.auth.GoogleAuthProvider)},t.prototype.loginWithEmail=function(t,n){return this.authType="email",this.afAuth.auth.signInWithEmailAndPassword(t,n)},t.prototype.createUserWithEmail=function(t,n,i,o){var e=this;return this.authType="email",this.afAuth.auth.createUserWithEmailAndPassword(t,n).then((function(t){e.updateProfile(o,i),e.sendEmailVerification()}))},t.prototype.signInWithPhone=function(t){this.authType="phone";var n=this.windowRef.recaptchaVerifier;return this.afAuth.auth.signInWithPhoneNumber(t,n)},t.prototype.resend=function(t){this.authType="phone";var n=this.windowRef.recaptchaVerifier;return this.afAuth.auth.signInWithPhoneNumber(t,n)},t.prototype.verifyOTP=function(t){return this.authType="phone",this.windowRef.confirmationResult.confirm(t)},t.prototype.logOut=function(){return this.authInfo=null,this.afAuth.auth.signOut()},t.prototype.getauthDetails=function(){return this.authInfo},t.prototype.sendEmailVerification=function(){this.afAuth.auth.currentUser.sendEmailVerification()},t.prototype.updateProfile=function(t,n){return this.afAuth.auth.currentUser.updateProfile({displayName:t,photoURL:n})},t.prototype.updatePassword=function(t){return this.afAuth.auth.currentUser.updatePassword(t)},t.prototype.isEmailVerified=function(){return this.authInfo.emailVerified},t.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:i.AngularFireAuth}]},t.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new t(n.ɵɵinject(i.AngularFireAuth))},token:t,providedIn:"root"}),t}();var p=function(){function t(t){this.auth=t,this.loading=!1}return t.prototype.ngOnInit=function(){this.auth.mode="emaillogin",this.auth.windowRef.recaptchaVerifier=new e.auth.RecaptchaVerifier("recaptcha",{size:"invisible",callback:function(t){this.auth.signInWithPhone()}}),this.auth.windowRef.recaptchaVerifier.render()},t.prototype.signInWithGoogle=function(){var t=this;this.loading=!0,this.auth.googleLogin().then((function(n){t.loading=!1,console.log(n)})).catch((function(n){alert("error"),t.loading=!1}))},t.prototype.signInWithEmail=function(t){var n=this;this.loading=!0,this.auth.loginWithEmail(t.email,t.password).then((function(t){console.log(t),n.loading=!1}))},t.prototype.logOut=function(){var t=this;this.loading=!0,this.auth.logOut().then((function(n){t.auth.mode="emaillogin",t.loading=!1}))},t.prototype.sendOTP=function(t){var n=this;t.phone&&(this.loading=!0,this.phone="+91"+t.phone.toString(),this.auth.signInWithPhone(this.phone).then((function(t){n.auth.windowRef.confirmationResult=t,n.auth.mode="verifyotp",n.loading=!1,console.log("otp Sent")})).catch((function(t){console.log(t),alert("error occoured"),n.loading=!1})))},t.prototype.varify=function(t){t&&this.auth.verifyOTP(t.toString())},t.prototype.resend=function(){this.auth.resend(this.phone)},t.prototype.signupwithemail=function(t){var n=this;this.loading=!0,this.auth.createUserWithEmail(t.email,t.password,"",t.name).then((function(t){n.loading=!1}))},t.decorators=[{type:n.Component,args:[{selector:"lib-authentication",template:'<div id="recaptcha"></div>\r\n<ng-container *ngIf="loading==false && !auth.isAuthenticated()">\r\n\x3c!-- <button (click)="auth.mode=\'emaillogin\'">Email Login</button>\r\n<button (click)="auth.mode=\'emailsignup\'">Email signup</button>\r\n<button (click)="auth.mode=\'phoneauth\'">phone Login</button> --\x3e\r\n<form (ngSubmit)="signInWithEmail(siginform.value)" #siginform="ngForm" *ngIf="auth.mode==\'emaillogin\'">\r\n<ul style="max-width: 380px;padding: 0px;margin-left: -2rem;margin-right: -2rem;margin-top: -2rem;margin-bottom: 4rem;">\r\n    <li (click)="auth.mode=\'emaillogin\'" style="display: inline-block;width: 33%;text-align: center;background-color: #4A89DC;color: white;font-size: large;padding-top: 12px;padding-bottom: 12px;">Sign In</li>\r\n    <li (click)="auth.mode=\'emailsignup\'" style="display: inline-block;width: 33%;text-align: center;border-left: #636363 solid 1px;background-color: #D2D8D8;color: #636363;font-size: large;padding-top: 12px;padding-bottom: 12px;">Sign Up</li>\r\n    <li (click)="auth.mode=\'phoneauth\'" style="display: inline-block;width: 33%;text-align: center;border-left:#636363 solid 1px;background-color: #D2D8D8;color: #636363;font-size: large;padding-top: 12px;padding-bottom: 12px;">Phone</li>\r\n</ul>\r\n  <div class="group">\r\n    <input ngModel type="email" name="email"><span class="highlight"></span><span class="bar"></span>\r\n    <label>Email</label>\r\n  </div>\r\n  <div class="group">\r\n    <input ngModel type="password" name="password"><span class="highlight"></span><span class="bar"></span>\r\n    <label>Password</label>\r\n  </div>\r\n  <button type="submit" class="button buttonBlue">Sign In\r\n    <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>\r\n  </button>\r\n  <br>\r\n  <h2 style="color: #D2D8D8;text-align: center;">OR</h2>\r\n  <button (click)="signInWithGoogle()" class="loginBtn loginBtn--google">\r\n    Login with Google\r\n  </button>\r\n</form>\r\n\r\n<form (ngSubmit)="signupwithemail(signupform.value)" #signupform="ngForm" *ngIf="auth.mode==\'emailsignup\'">\r\n    <ul style="max-width: 380px;padding: 0px;margin-left: -2rem;margin-right: -2rem;margin-top: -2rem;margin-bottom: 4rem;">\r\n        <li (click)="auth.mode=\'emaillogin\'" style="display: inline-block;width: 33%;text-align: center;background-color: #D2D8D8;color: #636363;font-size: large;padding-top: 12px;padding-bottom: 12px;">Sign In</li>\r\n        <li (click)="auth.mode=\'emailsignup\'" style="display: inline-block;width: 33%;text-align: center;border-left: #636363 solid 1px;background-color: #4A89DC;color: white;font-size: large;padding-top: 12px;padding-bottom: 12px;">Sign Up</li>\r\n        <li (click)="auth.mode=\'phoneauth\'" style="display: inline-block;width: 33%;text-align: center;border-left:#636363 solid 1px;background-color: #D2D8D8;color: #636363;font-size: large;padding-top: 12px;padding-bottom: 12px;">Phone</li>\r\n    </ul>\r\n  <div class="group">\r\n    <input ngModel type="email" name="email"><span class="highlight"></span><span class="bar"></span>\r\n    <label>Email</label>\r\n  </div>\r\n  <div class="group">\r\n    <input ngModel type="password" name="password"><span class="highlight"></span><span class="bar"></span>\r\n    <label>Password</label>\r\n  </div>\r\n  <div class="group">\r\n    <input ngModel type="text" name="mane"><span class="highlight"></span><span class="bar"></span>\r\n    <label>Name</label>\r\n  </div>\r\n  <button type="submit" class="button buttonBlue">Create Account\r\n    <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>\r\n  </button>\r\n  <br>\r\n  <h2 style="color: #D2D8D8;text-align: center;">OR</h2>\r\n  <button (click)="signInWithGoogle()" class="loginBtn loginBtn--google">\r\n    SignUp with Google\r\n  </button>\r\n</form>\r\n\r\n<form (ngSubmit)="sendOTP(signform.value)" #signform="ngForm" *ngIf="auth.mode==\'phoneauth\'">\r\n    <ul style="max-width: 380px;padding: 0px;margin-left: -2rem;margin-right: -2rem;margin-top: -2rem;margin-bottom: 4rem;">\r\n        <li (click)="auth.mode=\'emaillogin\'" style="display: inline-block;width: 33%;text-align: center;background-color: #D2D8D8;color: #636363;font-size: large;padding-top: 12px;padding-bottom: 12px;">Sign In</li>\r\n        <li (click)="auth.mode=\'emailsignup\'" style="display: inline-block;width: 33%;text-align: center;border-left: #636363 solid 1px;background-color: #D2D8D8;color: #636363;font-size: large;padding-top: 12px;padding-bottom: 12px;">Sign Up</li>\r\n        <li (click)="auth.mode=\'phoneauth\'" style="display: inline-block;width: 33%;text-align: center;border-left:#636363 solid 1px;background-color: #4A89DC;color: white;font-size: large;padding-top: 12px;padding-bottom: 12px;">Phone</li>\r\n    </ul>\r\n  <div class="group">\r\n    <input ngModel type="number" name="phone"><span class="highlight"></span><span class="bar"></span>\r\n    <label>Phone Number</label>\r\n  </div>\r\n  <button type="submit" class="button buttonBlue">Send OTP\r\n    <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>\r\n  </button>\r\n</form>\r\n<form (ngSubmit)="varify(otpform.value.otp)" #otpform="ngForm" *ngIf="auth.mode==\'verifyotp\'">\r\n    <ul style="max-width: 380px;padding: 0px;margin-left: -2rem;margin-right: -2rem;margin-top: -2rem;margin-bottom: 4rem;">\r\n        <li (click)="auth.mode=\'emaillogin\'" style="display: inline-block;width: 33%;text-align: center;background-color: #D2D8D8;color: #636363;font-size: large;padding-top: 12px;padding-bottom: 12px;">Sign In</li>\r\n        <li (click)="auth.mode=\'emailsignup\'" style="display: inline-block;width: 33%;text-align: center;border-left: #636363 solid 1px;background-color: #D2D8D8;color: #636363;font-size: large;padding-top: 12px;padding-bottom: 12px;">Sign Up</li>\r\n        <li (click)="auth.mode=\'phoneauth\'" style="display: inline-block;width: 33%;text-align: center;border-left:#636363 solid 1px;background-color: #4A89DC;color: white;font-size: large;padding-top: 12px;padding-bottom: 12px;">Phone</li>\r\n    </ul>\r\n  <div class="group">\r\n    <input ngModel type="number" name="otp"><span class="highlight"></span><span class="bar"></span>\r\n    <label>Enter OTP</label>\r\n  </div>\r\n  <button type="submit" class="button buttonBlue">Verify OTP\r\n    <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>\r\n  </button>\r\n</form>\r\n\r\n<form *ngIf="auth.mode==\'emailverify\'">\r\n  <div class="group">\r\n    Please Verify your email using the verification link send to your email\r\n  </div>\r\n  <button (click)="auth.sendEmailVerification()" type="button" class="button buttonBlue">Resend Verification Email\r\n    <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>\r\n  </button>\r\n  <button (click)="logOut()" type="button" class="button buttonBlue">LogOut\r\n    <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>\r\n  </button>\r\n</form>\r\n</ng-container>\r\n<ng-container *ngIf="loading==true">\r\n    <form>\r\n        <div style="padding-left: 33%;" class="group">\r\n            <div class="lds-ring"><div></div><div></div><div></div><div></div></div>\r\n        </div>\r\n      </form>\r\n</ng-container>\r\n\r\n<form *ngIf="auth.isAuthenticated()">\r\n  <div class="group">\r\n    Logged In Successfully\r\n    <button (click)="logOut()" type="button" class="button buttonBlue">LogOut\r\n      <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>\r\n    </button>\r\n  </div>\r\n</form>\r\n\r\n',styles:['*{box-sizing:border-box}h1,h3{font-weight:300}h1{color:#636363}h3{color:#4a89dc}form{min-height:520px;max-width:380px;padding:2em;background:#fafafa;border:1px solid #ebebeb;box-shadow:rgba(0,0,0,.14902) 0 1px 1px 0,rgba(0,0,0,.09804) 0 1px 2px 0}.group{position:relative;margin-bottom:45px}input{font-size:18px;padding:10px 10px 10px 5px;-webkit-appearance:none;display:block;background:#fafafa;color:#636363;width:100%;border:none;border-radius:0;border-bottom:1px solid #757575}input:focus{outline:0}label{color:#999;font-size:18px;font-weight:400;position:absolute;pointer-events:none;left:5px;top:10px;transition:.2s}input.used~label,input:focus~label{top:-20px;transform:scale(.75);left:-2px;color:#4a89dc}.bar{position:relative;display:block;width:100%}.bar:after,.bar:before{content:"";height:2px;width:0;bottom:1px;position:absolute;background:#4a89dc;transition:.2s}.bar:before{left:50%}.bar:after{right:50%}input:focus~.bar:after,input:focus~.bar:before{width:50%}.highlight{position:absolute;height:60%;width:100px;top:25%;left:0;pointer-events:none;opacity:.2}input:focus~.highlight{-webkit-animation:.3s inputHighlighter;animation:.3s inputHighlighter}@-webkit-keyframes inputHighlighter{from{background:#4a89dc}to{width:0;background:0 0}}@keyframes inputHighlighter{from{background:#4a89dc}to{width:0;background:0 0}}.button{position:relative;display:inline-block;padding:12px 24px;margin:.3em 0 1em;width:100%;vertical-align:middle;color:#fff;font-size:16px;line-height:20px;-webkit-font-smoothing:antialiased;text-align:center;letter-spacing:1px;background:0 0;border:0;border-bottom:2px solid #3160b6;cursor:pointer;transition:.15s}.button:focus{outline:0}.buttonBlue{background:#4a89dc;text-shadow:1px 1px 0 rgba(39,110,204,.5)}.buttonBlue:hover{background:#357bd8}.ripples{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;background:0 0}.ripplesCircle{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0;width:0;height:0;border-radius:50%;background:rgba(255,255,255,.25)}.ripples.is-active .ripplesCircle{-webkit-animation:.4s ease-in ripples;animation:.4s ease-in ripples}@-webkit-keyframes ripples{0%{opacity:0}25%{opacity:1}100%{width:200%;padding-bottom:200%;opacity:0}}@keyframes ripples{0%{opacity:0}25%{opacity:1}100%{width:200%;padding-bottom:200%;opacity:0}}footer{text-align:center}footer p{color:#888;font-size:13px;letter-spacing:.4px}footer a{color:#4a89dc;text-decoration:none;transition:.2s}footer a:hover{color:#666;text-decoration:underline}footer img{width:80px;transition:.2s}footer img:hover{opacity:.83}footer a:focus,footer img:focus{outline:0}.loginBtn{box-sizing:border-box;position:relative;margin:.2em;padding:0 15px 0 46px;border:none;text-align:left;line-height:34px;white-space:nowrap;border-radius:.2em;font-size:16px;color:#fff;width:100%}.loginBtn:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn:focus{outline:0}.loginBtn:active{box-shadow:inset 0 0 0 32px rgba(0,0,0,.1)}.loginBtn--facebook{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354c8c}.loginBtn--facebook:before{border-right:1px solid #364e92;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.loginBtn--facebook:focus,.loginBtn--facebook:hover{background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}.loginBtn--google{background:#dd4b39}.loginBtn--google:before{border-right:1px solid #bb3f30;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_google.png) 6px 6px no-repeat}.loginBtn--google:focus,.loginBtn--google:hover{background:#e74b37}.lds-ring{display:inline-block;position:relative;width:80px;height:80px}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #4a89dc;border-radius:50%;-webkit-animation:1.2s cubic-bezier(.5,0,.5,1) infinite lds-ring;animation:1.2s cubic-bezier(.5,0,.5,1) infinite lds-ring;border-color:#4a89dc transparent transparent}.lds-ring div:nth-child(1){-webkit-animation-delay:-.45s;animation-delay:-.45s}.lds-ring div:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-ring div:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes lds-ring{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes lds-ring{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}']}]}],t.ctorParameters=function(){return[{type:s}]},t}();var d=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{declarations:[p],imports:[r.AngularFireModule.initializeApp({apiKey:"AIzaSyCG0rcc-R7bBSSgoJD4V7FsEW9S_rCvPgc",authDomain:"chat-8a723.firebaseapp.com",databaseURL:"https://chat-8a723.firebaseio.com",projectId:"chat-8a723",storageBucket:"chat-8a723.appspot.com",messagingSenderId:"868038804017",appId:"1:868038804017:web:e0f3f645ba1e06a2948b10",measurementId:"G-RFY323LJ3K"}),i.AngularFireAuthModule,a.CommonModule,l.FormsModule],exports:[p]}]}],t}();t.AuthenticationComponent=p,t.AuthenticationModule=d,t.AuthenticationService=s,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=authentication.umd.min.js.map